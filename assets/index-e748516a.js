import{_ as N,o as d,c as g,a as q,u as O,b as $,r as S,d as G,e as J,f as P,g as e,h as n,w as B,i as k,t as D,j as o,n as y,T as K,p as M,k as T,l as F,F as A,m as j,q as V,s as U,v as C,x as Y,y as E,z,A as R,B as Q,C as X,D as Z,E as H,G as ee,H as se,I as te}from"./index-cee45145.js";const oe={},ae={class:"footer"},ne=q('<div class="container-fluid"><div class="row justify-content-center"><div class="col-md-auto px-1"><p class="text-center">Copyright Â© 2022 <b>Innovation Team TR VII</b>.</p></div><div class="col-md-auto px-1"><p class="text-center">All rights reserved.</p></div></div></div>',1),ie=[ne];function le(v,h){return d(),g("footer",ae,ie)}const W=N(oe,[["render",le]]),re="/assets/img/user1.png";const L=v=>(M("data-v-4c3c1f06"),v=v(),T(),v),ce={class:"sidebar-user text-center"},de={class:"f-w-700 m-2 text-center tw-px-[15px]"},ue=L(()=>e("span",{class:"f-w-700 ms-2"},"Update Profil",-1)),_e=L(()=>e("span",{class:"f-w-700 ms-2"},"Ganti Password",-1)),pe=L(()=>e("span",{class:"f-w-700 ms-2"},"Log Out",-1)),ve=L(()=>e("img",{class:"img-90 rounded-circle mx-auto",src:re,alt:""},null,-1)),he=L(()=>e("div",{class:"badge-bottom"},[e("span",{class:"badge badge-primary"},"New")],-1)),me={class:"mt-3 mb-1 f-14 f-w-600 font-primary"},fe={class:"mb-0 font-roboto text-uppercase f-w-700"},be={class:"mb-0 font-roboto text-capitalize"},ge={__name:"DashboardSidebarUser",emits:["updateUser","updatePassword","logout"],setup(v,{emit:h}){const i=O(),u=$(()=>i.name),r=$(()=>i.location),f=$(()=>i.role),p=S(!1),b=()=>p.value=!1;G(()=>{document.body.addEventListener("click",b)}),J(()=>{document.body.removeEventListener("click",b)});const w=$(()=>i.userData),l=S(!1),_=()=>{l.value=!0,i.fetchUserData(!1,()=>{l.value=!1,h("updateUser",w.value)})};return(c,a)=>{const s=P("vue-feather"),t=P("VueFeather");return d(),g("div",ce,[e("a",{class:"setting-primary",role:"button",title:"setting",onClick:a[0]||(a[0]=B(m=>p.value=!p.value,["stop"]))},[n(s,{type:"settings"})]),(d(),k(K,{to:"body"},[e("ul",{class:y([{show:p.value},"setting-wrapper"])},[e("li",null,[e("p",de,D(o(u)),1)]),e("li",null,[e("a",{role:"button",title:"update profil",onClick:_},[l.value?(d(),k(t,{key:0,type:"loader",animation:"spin",size:"1.5em"})):(d(),k(t,{key:1,type:"user",size:"1.5em"})),ue])]),e("li",null,[e("a",{role:"button",title:"ganti password",onClick:a[1]||(a[1]=m=>c.$emit("updatePassword"))},[n(t,{type:"key",size:"1.5em"}),_e])]),e("li",null,[e("a",{role:"button",onClick:a[2]||(a[2]=B(m=>c.$emit("logout"),["stop"])),title:"log out"},[n(t,{type:"lock",size:"1.5em"}),pe])])],2)])),ve,he,e("h6",me,D(o(u)),1),e("p",fe,D(o(r)),1),e("p",be,"role "+D(o(f)),1)])}}},we=N(ge,[["__scopeId","data-v-4c3c1f06"]]);const I=v=>(M("data-v-f5accdcb"),v=v(),T(),v),ye={class:"main-navbar"},$e=I(()=>e("div",{class:"left-arrow",id:"left-arrow"},[e("i",{"data-feather":"arrow-left"})],-1)),ke={id:"mainnav"},xe={class:"nav-menu custom-scrollbar"},Se=I(()=>e("li",{class:"back-btn"},[e("div",{class:"mobile-back text-end"},[e("span",null,"Back"),e("i",{class:"fa fa-angle-right ps-2","aria-hidden":"true"})])],-1)),Pe=I(()=>e("li",{class:"sidebar-main-title"},[e("div",null,[e("h6",null,"Saving Energy")])],-1)),De=["onClick"],Ue={class:"according-menu"},Ce={key:2,class:"nav-submenu menu-content"},Ve=I(()=>e("div",{class:"right-arrow",id:"right-arrow"},[e("i",{"data-feather":"arrow-right"})],-1)),Le={__name:"DashboardSidebarMenu",setup(v){const h=O(),i=$(()=>h.role),u=F(),r=$(()=>{const l=h.level,_=h.locationId;return!l||l=="nasional"||!_?u.menuItems:u.menuItems.map(c=>{const a=c.key=="gepee_evidence";if(c.key=="pue"){const t=c.child.findIndex(m=>m.key=="online");if(t>=0){const m=JSON.parse(JSON.stringify(c));return m.child[t].to=`${c.child[t].to}/${l}/${_}`,m}}if(a){const t=JSON.parse(JSON.stringify(c));return t.to=`${c.to}/${l}/${_}`,t}return c})}),f=$(()=>u.menuActKeys),p=S([]),b=()=>{for(let l=0;l<r.value.length;l++)r.value[l]&&f.value.length>0&&r.value[l].key==f.value[0]&&(p.value=[l])},w=l=>{p.value.indexOf(l)<0?p.value=[...p.value,l]:p.value=p.value.filter(a=>a!==l)};return b(),(l,_)=>{const c=P("vue-feather"),a=P("RouterLink");return d(),g("nav",null,[e("div",ye,[$e,e("div",ke,[e("ul",xe,[Se,Pe,(d(!0),g(A,null,j(o(r),(s,t)=>(d(),g("li",{class:y([{dropdown:s.child,expand:p.value.indexOf(t)>=0},"py-1"])},[!s.child&&s.roles.indexOf(o(i))>=0?(d(),k(a,{key:0,to:s.to,class:y([{active:s.key==o(f)[0],"on-development-menu":s.isDev},"nav-link"])},{default:V(()=>[n(c,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1)]),_:2},1032,["to","class"])):U("",!0),s.child&&s.roles.indexOf(o(i))>=0?(d(),g("a",{key:1,onClick:m=>w(t),class:y([{active:s.key===o(f)[0],"on-development-menu":s.isDev},"nav-link menu-title"]),role:"button"},[n(c,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1),e("div",Ue,[n(c,{type:"chevron-right"})])],10,De)):U("",!0),s.child&&s.roles.indexOf(o(i))>=0?(d(),g("ul",Ce,[(d(!0),g(A,null,j(s.child,m=>(d(),g("li",null,[m.roles&&m.roles.indexOf(o(i))>=0||!m.roles&&s.roles.indexOf(o(i))>=0?(d(),k(a,{key:0,to:m.to,class:y({active:m.key===o(f)[1]})},{default:V(()=>[C(D(m.title),1)]),_:2},1032,["to","class"])):U("",!0)]))),256))])):U("",!0)],2))),256))])]),Ve])])}}},Ne=N(Le,[["__scopeId","data-v-f5accdcb"]]),Oe=["onSubmit"],Ie={class:"mb-4"},Ee=e("label",{for:"inputOldPass"},[C("Masukkan password lama "),e("span",{class:"text-danger"},"*")],-1),ze={class:"mb-4"},Re=e("label",{for:"inputNewPass1"},[C("Masukkan password baru "),e("span",{class:"text-danger"},"*")],-1),Be={class:"mb-5"},Me=e("label",{for:"inputNewPass2"},[C("Masukkan ulang password baru "),e("span",{class:"text-danger"},"*")],-1),Te={key:0,class:"mb-0 font-danger ms-4"},Fe={class:"d-flex justify-content-between align-items-end"},Ae={__name:"DialogUpdatePassword",emits:["close"],setup(v,{emit:h}){const i=S(!0),u=()=>{i.value=!1,h("close")},{data:r,v$:f}=Y({oldPass:{required:E},newPass1:{required:E},newPass2:{required:E}}),p=S(!1),b=S(!1),w=$(()=>b.value?r.newPass1===r.newPass2:!0),l=O(),_=F(),c=async()=>{if(b.value=!0,!await f.value.$validate()||!w.value)return!1;const s={old_password:r.oldPass,new_password:r.newPass1};p.value=!0,l.updatePassword(s,t=>{p.value=!1,t.success&&(_.showToast("Update Password","Berhasil menyimpan password baru.",!0),i.value=!1)})};return(a,s)=>(d(),k(o(Q),{header:"Update Password",visible:i.value,"onUpdate:visible":s[4]||(s[4]=t=>i.value=t),modal:"",draggable:"",onAfterHide:u},{default:V(()=>[e("form",{onSubmit:B(c,["prevent"]),class:"p-4"},[e("div",Ie,[Ee,z(e("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=t=>o(r).oldPass=t),id:"inputOldPass",class:y([{"is-invalid":b.value&&o(f).oldPass.$invalid},"form-control"]),autofocus:""},null,2),[[R,o(r).oldPass]])]),e("div",ze,[Re,z(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>o(r).newPass1=t),id:"inputNewPass1",class:y([{"is-invalid":b.value&&o(f).newPass1.$invalid},"form-control"])},null,2),[[R,o(r).newPass1]])]),e("div",Be,[Me,z(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>o(r).newPass2=t),id:"inputNewPass2",class:y([{"is-invalid":b.value&&o(f).newPass2.$invalid},"form-control"])},null,2),[[R,o(r).newPass2]]),o(w)?U("",!0):(d(),g("p",Te,"Password baru tidak cocok"))]),e("div",Fe,[e("button",{type:"submit",class:y([{"btn-loading":p.value},"btn btn-success btn-lg"])},"Update Password",2),e("button",{type:"button",onClick:s[3]||(s[3]=t=>i.value=!1),class:"btn btn-secondary"},"Batalkan")])],40,Oe)]),_:1},8,["visible"]))}};const x=v=>(M("data-v-a17a54f7"),v=v(),T(),v),je={class:"page-wrapper compact-wrapper viho-theme",id:"pageWrapper"},Ge={class:"main-header-right row m-0"},Je={class:"main-header-left"},He={class:"logo-wrapper"},We=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),qe={class:"dark-logo-wrapper"},Ke=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),Ye={class:"left-menu-header col"},Qe={class:"form-inline search-form"},Xe={class:"search-bg"},Ze=x(()=>e("input",{class:"form-control-plaintext",placeholder:"Search here....."},null,-1)),es={class:"d-sm-none mobile-search search-bg"},ss={class:"nav-right col pull-right right-menu p-0"},ts={class:"nav-menus"},os={class:"text-dark",href:"#!",onclick:"javascript:toggleFullScreen()"},as={class:"onhover-dropdown"},ns={class:"notification-box"},is=x(()=>e("span",{class:"dot-animated"},null,-1)),ls={class:"notification-dropdown onhover-show-div"},rs=x(()=>e("li",null,[e("p",{class:"f-w-700 mb-0"},[C("You have 3 Notifications"),e("span",{class:"pull-right badge badge-primary badge-pill"},"4")])],-1)),cs={class:"noti-primary"},ds={class:"media"},us={class:"notification-bg bg-light-primary"},_s=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery processing "),e("span",null,"10 minutes ago")],-1)),ps={class:"noti-secondary"},vs={class:"media"},hs={class:"notification-bg bg-light-secondary"},ms=x(()=>e("div",{class:"media-body"},[e("p",null,"Order Complete"),e("span",null,"1 hour ago")],-1)),fs={class:"noti-success"},bs={class:"media"},gs={class:"notification-bg bg-light-success"},ws=x(()=>e("div",{class:"media-body"},[e("p",null,"Tickets Generated"),e("span",null,"3 hour ago")],-1)),ys={class:"noti-danger"},$s={class:"media"},ks={class:"notification-bg bg-light-danger"},xs=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery Complete"),e("span",null,"6 hour ago")],-1)),Ss={class:"onhover-dropdown p-0"},Ps={class:"d-lg-none mobile-toggle pull-right w-auto"},Ds={class:"page-body-wrapper"},Us={class:"page-body"},Cs={__name:"Dashboard",setup(v){const h=F(),i=$(()=>h.hideSidebar),u=X();u.beforeEach(()=>{h.resetSidebarVisibility()});const r=()=>h.resetSidebarVisibility();G(()=>window.addEventListener("resize",r)),J(()=>window.addEventListener("resize",r)),h.resetSidebarVisibility();const f=O(),p=()=>{confirm("Anda akan keluar dari DENSUS. Lanjutkan?")&&(f.logout(),u.push("/login"))},b=S(!1),w=S(null);return(l,_)=>{const c=P("RouterLink"),a=P("vue-feather"),s=P("RouterView");return d(),g("div",je,[e("div",{class:y([{close_icon:o(i)},"page-main-header"])},[e("div",Ge,[e("div",Je,[e("div",He,[n(c,{to:"/",title:"Dashboard"},{default:V(()=>[We]),_:1})]),e("div",qe,[n(c,{to:"/",title:"Dashboard"},{default:V(()=>[Ke]),_:1})]),e("div",{onClick:_[0]||(_[0]=t=>o(h).toggleSidebarVisibility()),class:"toggle-sidebar",tabindex:"0",role:"button","aria-pressed":"false",title:"Toggle Sidebar"},[n(a,{type:"align-center",class:"status_toggle middle"})])]),e("div",Ye,[e("ul",null,[e("li",null,[e("form",Qe,[e("div",Xe,[n(a,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}}),Ze])]),e("span",es,[n(a,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}})])])])]),e("div",ss,[e("ul",ts,[e("li",null,[e("a",os,[n(a,{type:"maximize"})])]),e("li",as,[e("div",ns,[n(a,{type:"bell"}),is]),e("ul",ls,[rs,e("li",cs,[e("div",ds,[e("span",us,[n(a,{type:"activity"})]),_s])]),e("li",ps,[e("div",vs,[e("span",hs,[n(a,{type:"check-circle"})]),ms])]),e("li",fs,[e("div",bs,[e("span",gs,[n(a,{type:"file-text"})]),ws])]),e("li",ys,[e("div",$s,[e("span",ks,[n(a,{type:"user-check"})]),xs])])])]),e("li",Ss,[e("button",{onClick:p,class:"btn btn-primary-light btn-icon"},[n(a,{type:"log-out"}),C("Log out")])])])]),e("div",Ps,[n(a,{type:"more-horizontal"})])])],2),e("div",Ds,[e("header",{class:y([{close_icon:!o(i)},"main-nav"])},[n(we,{onUpdateUser:_[1]||(_[1]=t=>w.value=t),onUpdatePassword:_[2]||(_[2]=t=>b.value=!0),onLogout:p}),n(Ne)],2),e("main",Us,[n(s)]),n(W)]),b.value?(d(),k(Ae,{key:0,onClose:_[3]||(_[3]=t=>b.value=!1)})):U("",!0),w.value?(d(),k(Z,{key:1,isCurrUser:"",data:w.value,onDie:_[4]||(_[4]=t=>w.value=null)},null,8,["data"])):U("",!0)])}}},Vs=N(Cs,[["__scopeId","data-v-a17a54f7"]]),Ls={class:"viho-theme"},Ns={__name:"SinglePage",setup(v){return(h,i)=>{const u=P("RouterView");return d(),g("div",Ls,[n(u),n(W)])}}},Is={__name:"index",setup(v){const h=ee(),i=$(()=>{const u=h.name;return["login","e404"].indexOf(u)<0?Vs:Ns});return se(()=>{const u=document.getElementById("loader");u&&(u.classList.add("hide"),setTimeout(function(){u.remove()},700))}),(u,r)=>(d(),k(te(o(i))))}};export{Is as default};
