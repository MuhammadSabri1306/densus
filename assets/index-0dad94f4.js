import{_ as N,o as d,c as f,a as K,u as E,b as y,r as $,d as G,e as H,f as x,g as s,h as o,w as M,t as D,i as t,j as S,n as w,p as F,k as I,l as T,F as A,m as j,q as C,s as U,v as V,x as Y,y as O,z as R,A as B,B as J,C as Q,D as X,E as W,G as Z,H as ss,I as es}from"./index-218a909d.js";const ts={},os={class:"footer"},as=K('<div class="container-fluid"><div class="row justify-content-center"><div class="col-md-auto px-1"><p class="text-center">Copyright Â© 2022 <b>Innovation Team TR VII</b>.</p></div><div class="col-md-auto px-1"><p class="text-center">All rights reserved.</p></div></div></div>',1),ns=[as];function is(c,h){return d(),f("footer",os,ns)}const q=N(ts,[["render",is]]),ls="/densus/assets/img/user1.png";const L=c=>(F("data-v-215c000d"),c=c(),I(),c),rs={class:"sidebar-user text-center"},ds={class:"f-w-700 m-2"},cs=L(()=>s("span",{class:"f-w-700 ms-2"},"Update Profil",-1)),us=L(()=>s("span",{class:"f-w-700 ms-2"},"Ganti Password",-1)),_s=L(()=>s("span",{class:"f-w-700 ms-2"},"Log Out",-1)),ps=L(()=>s("img",{class:"img-90 rounded-circle mx-auto",src:ls,alt:""},null,-1)),vs=L(()=>s("div",{class:"badge-bottom"},[s("span",{class:"badge badge-primary"},"New")],-1)),hs={href:"#"},ms={class:"mt-3 f-14 f-w-600"},bs={class:"mb-0 font-roboto text-uppercase"},gs={__name:"DashboardSidebarUser",emits:["updateUser","updatePassword","logout"],setup(c,{emit:h}){const a=E(),l=y(()=>a.name),i=y(()=>a.location),u=$(!1),_=()=>u.value=!1;G(()=>{document.body.addEventListener("click",_)}),H(()=>{document.body.removeEventListener("click",_)});const b=y(()=>a.userData),g=$(!1),m=()=>{g.value=!0,a.fetchUserData(!1,()=>{g.value=!1,h("updateUser",b.value)})};return(p,v)=>{const r=x("vue-feather"),e=x("VueFeather");return d(),f("div",rs,[s("a",{class:"setting-primary",role:"button",title:"setting",onClick:v[0]||(v[0]=M(n=>u.value=!u.value,["stop"]))},[o(r,{type:"settings"})]),s("ul",{class:w([{show:u.value},"setting-wrapper"])},[s("li",null,[s("p",ds,D(t(l)),1)]),s("li",null,[s("a",{role:"button",title:"update profil",onClick:m},[g.value?(d(),S(e,{key:0,type:"loader",animation:"spin",size:"1.5em"})):(d(),S(e,{key:1,type:"user",size:"1.5em"})),cs])]),s("li",null,[s("a",{role:"button",title:"ganti password",onClick:v[1]||(v[1]=n=>p.$emit("updatePassword"))},[o(e,{type:"key",size:"1.5em"}),us])]),s("li",null,[s("a",{role:"button",onClick:v[2]||(v[2]=M(n=>p.$emit("logout"),["stop"])),title:"log out"},[o(e,{type:"lock",size:"1.5em"}),_s])])],2),ps,vs,s("a",hs,[s("h6",ms,D(t(l)),1)]),s("p",bs,D(t(i)),1)])}}},fs=N(gs,[["__scopeId","data-v-215c000d"]]);const z=c=>(F("data-v-297deb73"),c=c(),I(),c),ws={class:"main-navbar"},ys=z(()=>s("div",{class:"left-arrow",id:"left-arrow"},[s("i",{"data-feather":"arrow-left"})],-1)),ks={id:"mainnav"},$s={class:"nav-menu custom-scrollbar"},xs=z(()=>s("li",{class:"back-btn"},[s("div",{class:"mobile-back text-end"},[s("span",null,"Back"),s("i",{class:"fa fa-angle-right ps-2","aria-hidden":"true"})])],-1)),Ss=z(()=>s("li",{class:"sidebar-main-title"},[s("div",null,[s("h6",null,"Saving Energy")])],-1)),Ps=["onClick"],Us={class:"according-menu"},Ds={key:2,class:"nav-submenu menu-content"},Vs=z(()=>s("div",{class:"right-arrow",id:"right-arrow"},[s("i",{"data-feather":"arrow-right"})],-1)),Cs={__name:"DashboardSidebarMenu",setup(c){const h=E(),a=y(()=>h.role),l=T(),i=y(()=>l.menuItems),u=y(()=>l.menuActKeys);y(()=>l.menuExpanded);const _=$([]),b=()=>{for(let m=0;m<i.value.length;m++)i.value[m]&&u.value.length>0&&i.value[m].key==u.value[0]&&(_.value=[m])},g=m=>{_.value.indexOf(m)<0?_.value=[..._.value,m]:_.value=_.value.filter(r=>r!==m)};return b(),(m,p)=>{const v=x("vue-feather"),r=x("RouterLink");return d(),f("nav",null,[s("div",ws,[ys,s("div",ks,[s("ul",$s,[xs,Ss,(d(!0),f(A,null,j(t(i),(e,n)=>(d(),f("li",{class:w([{dropdown:e.child,expand:_.value.indexOf(n)>=0},"py-1"])},[!e.child&&e.roles.indexOf(t(a))>=0?(d(),S(r,{key:0,to:e.to,class:w([{active:e.key==t(u)[0]},"nav-link"])},{default:C(()=>[o(v,{type:e.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),s("span",null,D(e.title),1)]),_:2},1032,["to","class"])):U("",!0),e.child&&e.roles.indexOf(t(a))>=0?(d(),f("a",{key:1,onClick:P=>g(n),class:w([{active:e.key===t(u)[0]},"nav-link menu-title"]),role:"button"},[o(v,{type:e.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),s("span",null,D(e.title),1),s("div",Us,[o(v,{type:"chevron-right"})])],10,Ps)):U("",!0),e.child&&e.roles.indexOf(t(a))>=0?(d(),f("ul",Ds,[(d(!0),f(A,null,j(e.child,P=>(d(),f("li",null,[P.roles&&P.roles.indexOf(t(a))>=0||!P.roles&&e.roles.indexOf(t(a))>=0?(d(),S(r,{key:0,to:P.to,class:w({active:P.key===t(u)[1]})},{default:C(()=>[V(D(P.title),1)]),_:2},1032,["to","class"])):U("",!0)]))),256))])):U("",!0)],2))),256))])]),Vs])])}}},Ls=N(Cs,[["__scopeId","data-v-297deb73"]]),Ns=["onSubmit"],Es={class:"mb-4"},zs=s("label",{for:"inputOldPass"},[V("Masukkan password lama "),s("span",{class:"text-danger"},"*")],-1),Os={class:"mb-4"},Rs=s("label",{for:"inputNewPass1"},[V("Masukkan password baru "),s("span",{class:"text-danger"},"*")],-1),Bs={class:"mb-5"},Ms=s("label",{for:"inputNewPass2"},[V("Masukkan ulang password baru "),s("span",{class:"text-danger"},"*")],-1),Fs={key:0,class:"mb-0 font-danger ms-4"},Is={class:"d-flex justify-content-between align-items-end"},Ts={__name:"DialogUpdatePassword",emits:["close"],setup(c,{emit:h}){const a=$(!0),l=()=>{a.value=!1,h("close")},{data:i,v$:u}=Y({oldPass:{required:O},newPass1:{required:O},newPass2:{required:O}}),_=$(!1),b=$(!1),g=y(()=>b.value?i.newPass1===i.newPass2:!0),m=E(),p=T(),v=async()=>{if(b.value=!0,!await u.value.$validate()||!g.value)return!1;const e={old_password:i.oldPass,new_password:i.newPass1};_.value=!0,m.updatePassword(e,n=>{_.value=!1,n.success&&(p.showToast("Update Password","Berhasil menyimpan password baru.",!0),a.value=!1)})};return(r,e)=>(d(),S(t(J),{header:"Update Password",visible:a.value,"onUpdate:visible":e[4]||(e[4]=n=>a.value=n),modal:"",draggable:"",onAfterHide:l},{default:C(()=>[s("form",{onSubmit:M(v,["prevent"]),class:"p-4"},[s("div",Es,[zs,R(s("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=n=>t(i).oldPass=n),id:"inputOldPass",class:w([{"is-invalid":b.value&&t(u).oldPass.$invalid},"form-control"]),autofocus:""},null,2),[[B,t(i).oldPass]])]),s("div",Os,[Rs,R(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>t(i).newPass1=n),id:"inputNewPass1",class:w([{"is-invalid":b.value&&t(u).newPass1.$invalid},"form-control"])},null,2),[[B,t(i).newPass1]])]),s("div",Bs,[Ms,R(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=n=>t(i).newPass2=n),id:"inputNewPass2",class:w([{"is-invalid":b.value&&t(u).newPass2.$invalid},"form-control"])},null,2),[[B,t(i).newPass2]]),t(g)?U("",!0):(d(),f("p",Fs,"Password baru tidak cocok"))]),s("div",Is,[s("button",{type:"submit",class:w([{"btn-loading":_.value},"btn btn-success btn-lg"])},"Update Password",2),s("button",{type:"button",onClick:e[3]||(e[3]=n=>a.value=!1),class:"btn btn-secondary"},"Batalkan")])],40,Ns)]),_:1},8,["visible"]))}};const k=c=>(F("data-v-9077b9c1"),c=c(),I(),c),As={class:"page-wrapper compact-wrapper viho-theme",id:"pageWrapper"},js={class:"main-header-right row m-0"},Gs={class:"main-header-left"},Hs={class:"logo-wrapper"},Ws=k(()=>s("img",{src:W,class:"img-fluid brand-logo",alt:""},null,-1)),qs={class:"dark-logo-wrapper"},Ks=k(()=>s("img",{src:W,class:"img-fluid brand-logo",alt:""},null,-1)),Ys={class:"left-menu-header col"},Js={class:"form-inline search-form"},Qs={class:"search-bg"},Xs=k(()=>s("input",{class:"form-control-plaintext",placeholder:"Search here....."},null,-1)),Zs={class:"d-sm-none mobile-search search-bg"},se={class:"nav-right col pull-right right-menu p-0"},ee={class:"nav-menus"},te={class:"text-dark",href:"#!",onclick:"javascript:toggleFullScreen()"},oe={class:"onhover-dropdown"},ae={class:"notification-box"},ne=k(()=>s("span",{class:"dot-animated"},null,-1)),ie={class:"notification-dropdown onhover-show-div"},le=k(()=>s("li",null,[s("p",{class:"f-w-700 mb-0"},[V("You have 3 Notifications"),s("span",{class:"pull-right badge badge-primary badge-pill"},"4")])],-1)),re={class:"noti-primary"},de={class:"media"},ce={class:"notification-bg bg-light-primary"},ue=k(()=>s("div",{class:"media-body"},[s("p",null,"Delivery processing "),s("span",null,"10 minutes ago")],-1)),_e={class:"noti-secondary"},pe={class:"media"},ve={class:"notification-bg bg-light-secondary"},he=k(()=>s("div",{class:"media-body"},[s("p",null,"Order Complete"),s("span",null,"1 hour ago")],-1)),me={class:"noti-success"},be={class:"media"},ge={class:"notification-bg bg-light-success"},fe=k(()=>s("div",{class:"media-body"},[s("p",null,"Tickets Generated"),s("span",null,"3 hour ago")],-1)),we={class:"noti-danger"},ye={class:"media"},ke={class:"notification-bg bg-light-danger"},$e=k(()=>s("div",{class:"media-body"},[s("p",null,"Delivery Complete"),s("span",null,"6 hour ago")],-1)),xe={class:"onhover-dropdown p-0"},Se={class:"d-lg-none mobile-toggle pull-right w-auto"},Pe={class:"page-body-wrapper"},Ue={class:"page-body"},De={__name:"Dashboard",setup(c){const h=T(),a=y(()=>h.hideSidebar),l=Q();l.beforeEach(()=>{h.resetSidebarVisibility()});const i=()=>h.resetSidebarVisibility();G(()=>window.addEventListener("resize",i)),H(()=>window.addEventListener("resize",i)),h.resetSidebarVisibility();const u=E(),_=()=>{confirm("Anda akan keluar dari DENSUS. Lanjutkan?")&&(u.logout(),l.push("/login"))},b=$(!1),g=$(null);return(m,p)=>{const v=x("RouterLink"),r=x("vue-feather"),e=x("RouterView");return d(),f("div",As,[s("div",{class:w([{close_icon:t(a)},"page-main-header"])},[s("div",js,[s("div",Gs,[s("div",Hs,[o(v,{to:"/",title:"Dashboard"},{default:C(()=>[Ws]),_:1})]),s("div",qs,[o(v,{to:"/",title:"Dashboard"},{default:C(()=>[Ks]),_:1})]),s("div",{onClick:p[0]||(p[0]=n=>t(h).toggleSidebarVisibility()),class:"toggle-sidebar",tabindex:"0",role:"button","aria-pressed":"false",title:"Toggle Sidebar"},[o(r,{type:"align-center",class:"status_toggle middle"})])]),s("div",Ys,[s("ul",null,[s("li",null,[s("form",Js,[s("div",Qs,[o(r,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}}),Xs])]),s("span",Zs,[o(r,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}})])])])]),s("div",se,[s("ul",ee,[s("li",null,[s("a",te,[o(r,{type:"maximize"})])]),s("li",oe,[s("div",ae,[o(r,{type:"bell"}),ne]),s("ul",ie,[le,s("li",re,[s("div",de,[s("span",ce,[o(r,{type:"activity"})]),ue])]),s("li",_e,[s("div",pe,[s("span",ve,[o(r,{type:"check-circle"})]),he])]),s("li",me,[s("div",be,[s("span",ge,[o(r,{type:"file-text"})]),fe])]),s("li",we,[s("div",ye,[s("span",ke,[o(r,{type:"user-check"})]),$e])])])]),s("li",xe,[s("button",{onClick:_,class:"btn btn-primary-light btn-icon"},[o(r,{type:"log-out"}),V("Log out")])])])]),s("div",Se,[o(r,{type:"more-horizontal"})])])],2),s("div",Pe,[s("header",{class:w([{close_icon:!t(a)},"main-nav"])},[o(fs,{onUpdateUser:p[1]||(p[1]=n=>g.value=n),onUpdatePassword:p[2]||(p[2]=n=>b.value=!0),onLogout:_}),o(Ls)],2),s("main",Ue,[o(e)]),o(q)]),b.value?(d(),S(Ts,{key:0,onClose:p[3]||(p[3]=n=>b.value=!1)})):U("",!0),g.value?(d(),S(X,{key:1,isCurrUser:"",data:g.value,onDie:p[4]||(p[4]=n=>g.value=null)},null,8,["data"])):U("",!0)])}}},Ve=N(De,[["__scopeId","data-v-9077b9c1"]]),Ce={class:"viho-theme"},Le={__name:"SinglePage",setup(c){return(h,a)=>{const l=x("RouterView");return d(),f("div",Ce,[o(l),o(q)])}}},Ee={__name:"index",setup(c){const h=Z(),a=y(()=>{const l=h.name;return["login","e404"].indexOf(l)<0?Ve:Le});return ss(()=>{const l=document.getElementById("loader");l&&(l.classList.add("hide"),setTimeout(function(){l.remove()},700))}),(l,i)=>(d(),S(es(t(a))))}};export{Ee as default};
