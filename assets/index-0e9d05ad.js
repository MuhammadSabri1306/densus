import{_ as N,o as c,c as b,a as j,u as O,b as $,r as S,d as G,e as J,f as P,g as e,h as a,w as R,i as k,t as D,n as y,T as K,p as B,j as M,k as T,F,l as A,m as V,q as U,s as C,v as Y,x as I,y as E,z as w,A as z,B as Q,C as X,D as Z,E as H,G as ee,H as se,I as te}from"./index-03dc588b.js";const oe={},ae={class:"footer"},ne=j('<div class="container-fluid"><div class="row justify-content-center"><div class="col-md-auto px-1"><p class="text-center">Copyright Â© 2022 <b>Innovation Team TR VII</b>.</p></div><div class="col-md-auto px-1"><p class="text-center">All rights reserved.</p></div></div></div>',1),le=[ne];function ie(_,v){return c(),b("footer",ae,le)}const W=N(oe,[["render",ie]]),re="/assets/img/user1.png";const L=_=>(B("data-v-4c3c1f06"),_=_(),M(),_),ce={class:"sidebar-user text-center"},de={class:"f-w-700 m-2 text-center tw-px-[15px]"},ue=L(()=>e("span",{class:"f-w-700 ms-2"},"Update Profil",-1)),pe=L(()=>e("span",{class:"f-w-700 ms-2"},"Ganti Password",-1)),_e=L(()=>e("span",{class:"f-w-700 ms-2"},"Log Out",-1)),ve=L(()=>e("img",{class:"img-90 rounded-circle mx-auto",src:re,alt:""},null,-1)),he=L(()=>e("div",{class:"badge-bottom"},[e("span",{class:"badge badge-primary"},"New")],-1)),me={class:"mt-3 mb-1 f-14 f-w-600 font-primary"},fe={class:"mb-0 font-roboto text-uppercase f-w-700"},be={class:"mb-0 font-roboto text-capitalize"},ge={__name:"DashboardSidebarUser",emits:["updateUser","updatePassword","logout"],setup(_,{emit:v}){const n=O(),d=$(()=>n.name),i=$(()=>n.location),m=$(()=>n.role),p=S(!1),f=()=>p.value=!1;G(()=>{document.body.addEventListener("click",f)}),J(()=>{document.body.removeEventListener("click",f)});const g=$(()=>n.userData),l=S(!1),u=()=>{l.value=!0,n.fetchUserData(!1,()=>{l.value=!1,v("updateUser",g.value)})};return(r,o)=>{const s=P("vue-feather"),t=P("VueFeather");return c(),b("div",ce,[e("a",{class:"setting-primary",role:"button",title:"setting",onClick:o[0]||(o[0]=R(h=>p.value=!p.value,["stop"]))},[a(s,{type:"settings"})]),(c(),k(K,{to:"body"},[e("ul",{class:y([{show:p.value},"setting-wrapper"])},[e("li",null,[e("p",de,D(d.value),1)]),e("li",null,[e("a",{role:"button",title:"update profil",onClick:u},[l.value?(c(),k(t,{key:0,type:"loader",animation:"spin",size:"1.5em"})):(c(),k(t,{key:1,type:"user",size:"1.5em"})),ue])]),e("li",null,[e("a",{role:"button",title:"ganti password",onClick:o[1]||(o[1]=h=>r.$emit("updatePassword"))},[a(t,{type:"key",size:"1.5em"}),pe])]),e("li",null,[e("a",{role:"button",onClick:o[2]||(o[2]=R(h=>r.$emit("logout"),["stop"])),title:"log out"},[a(t,{type:"lock",size:"1.5em"}),_e])])],2)])),ve,he,e("h6",me,D(d.value),1),e("p",fe,D(i.value),1),e("p",be,"role "+D(m.value),1)])}}},we=N(ge,[["__scopeId","data-v-4c3c1f06"]]);const q=_=>(B("data-v-0678cc76"),_=_(),M(),_),ye={class:"main-navbar"},$e=q(()=>e("div",{class:"left-arrow",id:"left-arrow"},[e("i",{"data-feather":"arrow-left"})],-1)),ke={id:"mainnav"},xe={class:"nav-menu custom-scrollbar"},Se=j('<li class="back-btn" data-v-0678cc76><div class="mobile-back text-end" data-v-0678cc76><span data-v-0678cc76>Back</span><i class="fa fa-angle-right ps-2" aria-hidden="true" data-v-0678cc76></i></div></li><li class="sidebar-main-title" data-v-0678cc76><div data-v-0678cc76><h6 class="ms-2" data-v-0678cc76><span class="!tw-text-5xl !tw-font-medium" data-v-0678cc76>G</span><span class="!tw-font-bold" data-v-0678cc76>ePEE</span></h6></div></li>',2),Pe=["onClick"],De={class:"according-menu"},Ue={key:2,class:"nav-submenu menu-content"},Ce=q(()=>e("div",{class:"right-arrow",id:"right-arrow"},[e("i",{"data-feather":"arrow-right"})],-1)),Ve={__name:"DashboardSidebarMenu",setup(_){const v=O(),n=$(()=>v.role),d=T(),i=$(()=>{const l=v.level,u=v.locationId;return!l||l=="nasional"||!u?d.menuItems:d.menuItems.map(r=>{const o=r.key=="gepee_evidence";if(r.key=="pue"){const t=r.child.findIndex(h=>h.key=="online");if(t>=0){const h=JSON.parse(JSON.stringify(r));return h.child[t].to=`${r.child[t].to}/${l}/${u}`,h}}if(o){const t=JSON.parse(JSON.stringify(r));return t.to=`${r.to}/${l}/${u}`,t}return r})}),m=$(()=>d.menuActKeys),p=S([]),f=()=>{for(let l=0;l<i.value.length;l++)i.value[l]&&m.value.length>0&&i.value[l].key==m.value[0]&&(p.value=[l])},g=l=>{p.value.indexOf(l)<0?p.value=[...p.value,l]:p.value=p.value.filter(o=>o!==l)};return f(),(l,u)=>{const r=P("vue-feather"),o=P("RouterLink");return c(),b("nav",null,[e("div",ye,[$e,e("div",ke,[e("ul",xe,[Se,(c(!0),b(F,null,A(i.value,(s,t)=>(c(),b("li",{class:y([{dropdown:s.child,expand:p.value.indexOf(t)>=0},"py-1"])},[!s.child&&s.roles.indexOf(n.value)>=0?(c(),k(o,{key:0,to:s.to,class:y([{active:s.key==m.value[0],"on-development-menu":s.isDev},"nav-link"])},{default:V(()=>[a(r,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1)]),_:2},1032,["to","class"])):U("",!0),s.child&&s.roles.indexOf(n.value)>=0?(c(),b("a",{key:1,onClick:h=>g(t),class:y([{active:s.key===m.value[0],"on-development-menu":s.isDev},"nav-link menu-title"]),role:"button"},[a(r,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1),e("div",De,[a(r,{type:"chevron-right"})])],10,Pe)):U("",!0),s.child&&s.roles.indexOf(n.value)>=0?(c(),b("ul",Ue,[(c(!0),b(F,null,A(s.child,h=>(c(),b("li",null,[h.roles&&h.roles.indexOf(n.value)>=0||!h.roles&&s.roles.indexOf(n.value)>=0?(c(),k(o,{key:0,to:h.to,class:y({active:h.key===m.value[1]})},{default:V(()=>[C(D(h.title),1)]),_:2},1032,["to","class"])):U("",!0)]))),256))])):U("",!0)],2))),256))])]),Ce])])}}},Le=N(Ve,[["__scopeId","data-v-0678cc76"]]),Ne=["onSubmit"],Oe={class:"mb-4"},Ie=e("label",{for:"inputOldPass"},[C("Masukkan password lama "),e("span",{class:"text-danger"},"*")],-1),Ee={class:"mb-4"},ze=e("label",{for:"inputNewPass1"},[C("Masukkan password baru "),e("span",{class:"text-danger"},"*")],-1),Re={class:"mb-5"},Be=e("label",{for:"inputNewPass2"},[C("Masukkan ulang password baru "),e("span",{class:"text-danger"},"*")],-1),Me={key:0,class:"mb-0 font-danger ms-4"},Te={class:"d-flex justify-content-between align-items-end"},Fe={__name:"DialogUpdatePassword",emits:["close"],setup(_,{emit:v}){const n=S(!0),d=()=>{n.value=!1,v("close")},{data:i,v$:m}=Y({oldPass:{required:I},newPass1:{required:I},newPass2:{required:I}}),p=S(!1),f=S(!1),g=$(()=>f.value?i.newPass1===i.newPass2:!0),l=O(),u=T(),r=async()=>{if(f.value=!0,!await m.value.$validate()||!g.value)return!1;const s={old_password:i.oldPass,new_password:i.newPass1};p.value=!0,l.updatePassword(s,t=>{p.value=!1,t.success&&(u.showToast("Update Password","Berhasil menyimpan password baru.",!0),n.value=!1)})};return(o,s)=>(c(),k(w(Q),{header:"Update Password",visible:n.value,"onUpdate:visible":s[4]||(s[4]=t=>n.value=t),modal:"",draggable:"",onAfterHide:d},{default:V(()=>[e("form",{onSubmit:R(r,["prevent"]),class:"p-4"},[e("div",Oe,[Ie,E(e("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=t=>w(i).oldPass=t),id:"inputOldPass",class:y([{"is-invalid":f.value&&w(m).oldPass.$invalid},"form-control"]),autofocus:""},null,2),[[z,w(i).oldPass]])]),e("div",Ee,[ze,E(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>w(i).newPass1=t),id:"inputNewPass1",class:y([{"is-invalid":f.value&&w(m).newPass1.$invalid},"form-control"])},null,2),[[z,w(i).newPass1]])]),e("div",Re,[Be,E(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>w(i).newPass2=t),id:"inputNewPass2",class:y([{"is-invalid":f.value&&w(m).newPass2.$invalid},"form-control"])},null,2),[[z,w(i).newPass2]]),g.value?U("",!0):(c(),b("p",Me,"Password baru tidak cocok"))]),e("div",Te,[e("button",{type:"submit",class:y([{"btn-loading":p.value},"btn btn-success btn-lg"])},"Update Password",2),e("button",{type:"button",onClick:s[3]||(s[3]=t=>n.value=!1),class:"btn btn-secondary"},"Batalkan")])],40,Ne)]),_:1},8,["visible"]))}};const x=_=>(B("data-v-a17a54f7"),_=_(),M(),_),Ae={class:"page-wrapper compact-wrapper viho-theme",id:"pageWrapper"},je={class:"main-header-right row m-0"},Ge={class:"main-header-left"},Je={class:"logo-wrapper"},He=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),We={class:"dark-logo-wrapper"},qe=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),Ke={class:"left-menu-header col"},Ye={class:"form-inline search-form"},Qe={class:"search-bg"},Xe=x(()=>e("input",{class:"form-control-plaintext",placeholder:"Search here....."},null,-1)),Ze={class:"d-sm-none mobile-search search-bg"},es={class:"nav-right col pull-right right-menu p-0"},ss={class:"nav-menus"},ts={class:"text-dark",href:"#!",onclick:"javascript:toggleFullScreen()"},os={class:"onhover-dropdown"},as={class:"notification-box"},ns=x(()=>e("span",{class:"dot-animated"},null,-1)),ls={class:"notification-dropdown onhover-show-div"},is=x(()=>e("li",null,[e("p",{class:"f-w-700 mb-0"},[C("You have 3 Notifications"),e("span",{class:"pull-right badge badge-primary badge-pill"},"4")])],-1)),rs={class:"noti-primary"},cs={class:"media"},ds={class:"notification-bg bg-light-primary"},us=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery processing "),e("span",null,"10 minutes ago")],-1)),ps={class:"noti-secondary"},_s={class:"media"},vs={class:"notification-bg bg-light-secondary"},hs=x(()=>e("div",{class:"media-body"},[e("p",null,"Order Complete"),e("span",null,"1 hour ago")],-1)),ms={class:"noti-success"},fs={class:"media"},bs={class:"notification-bg bg-light-success"},gs=x(()=>e("div",{class:"media-body"},[e("p",null,"Tickets Generated"),e("span",null,"3 hour ago")],-1)),ws={class:"noti-danger"},ys={class:"media"},$s={class:"notification-bg bg-light-danger"},ks=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery Complete"),e("span",null,"6 hour ago")],-1)),xs={class:"onhover-dropdown p-0"},Ss={class:"d-lg-none mobile-toggle pull-right w-auto"},Ps={class:"page-body-wrapper"},Ds={class:"page-body"},Us={__name:"Dashboard",setup(_){const v=T(),n=$(()=>v.hideSidebar),d=X();d.beforeEach(()=>{v.resetSidebarVisibility()});const i=()=>v.resetSidebarVisibility();G(()=>window.addEventListener("resize",i)),J(()=>window.addEventListener("resize",i)),v.resetSidebarVisibility();const m=O(),p=()=>{confirm("Anda akan keluar dari DENSUS. Lanjutkan?")&&(m.logout(),d.push("/login"))},f=S(!1),g=S(null);return(l,u)=>{const r=P("RouterLink"),o=P("vue-feather"),s=P("RouterView");return c(),b("div",Ae,[e("div",{class:y([{close_icon:n.value},"page-main-header"])},[e("div",je,[e("div",Ge,[e("div",Je,[a(r,{to:"/",title:"Dashboard"},{default:V(()=>[He]),_:1})]),e("div",We,[a(r,{to:"/",title:"Dashboard"},{default:V(()=>[qe]),_:1})]),e("div",{onClick:u[0]||(u[0]=t=>w(v).toggleSidebarVisibility()),class:"toggle-sidebar",tabindex:"0",role:"button","aria-pressed":"false",title:"Toggle Sidebar"},[a(o,{type:"align-center",class:"status_toggle middle"})])]),e("div",Ke,[e("ul",null,[e("li",null,[e("form",Ye,[e("div",Qe,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}}),Xe])]),e("span",Ze,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}})])])])]),e("div",es,[e("ul",ss,[e("li",null,[e("a",ts,[a(o,{type:"maximize"})])]),e("li",os,[e("div",as,[a(o,{type:"bell"}),ns]),e("ul",ls,[is,e("li",rs,[e("div",cs,[e("span",ds,[a(o,{type:"activity"})]),us])]),e("li",ps,[e("div",_s,[e("span",vs,[a(o,{type:"check-circle"})]),hs])]),e("li",ms,[e("div",fs,[e("span",bs,[a(o,{type:"file-text"})]),gs])]),e("li",ws,[e("div",ys,[e("span",$s,[a(o,{type:"user-check"})]),ks])])])]),e("li",xs,[e("button",{onClick:p,class:"btn btn-primary-light btn-icon"},[a(o,{type:"log-out"}),C("Log out")])])])]),e("div",Ss,[a(o,{type:"more-horizontal"})])])],2),e("div",Ps,[e("header",{class:y([{close_icon:!n.value},"main-nav"])},[a(we,{onUpdateUser:u[1]||(u[1]=t=>g.value=t),onUpdatePassword:u[2]||(u[2]=t=>f.value=!0),onLogout:p}),a(Le)],2),e("main",Ds,[a(s)]),a(W)]),f.value?(c(),k(Fe,{key:0,onClose:u[3]||(u[3]=t=>f.value=!1)})):U("",!0),g.value?(c(),k(Z,{key:1,isCurrUser:"",data:g.value,onDie:u[4]||(u[4]=t=>g.value=null)},null,8,["data"])):U("",!0)])}}},Cs=N(Us,[["__scopeId","data-v-a17a54f7"]]),Vs={class:"viho-theme"},Ls={__name:"SinglePage",setup(_){return(v,n)=>{const d=P("RouterView");return c(),b("div",Vs,[a(d),a(W)])}}},Os={__name:"index",setup(_){const v=ee(),n=$(()=>{const d=v.name;return["login","e404"].indexOf(d)<0?Cs:Ls});return se(()=>{const d=document.getElementById("loader");d&&(d.classList.add("hide"),setTimeout(function(){d.remove()},700))}),(d,i)=>(c(),k(te(n.value)))}};export{Os as default};
