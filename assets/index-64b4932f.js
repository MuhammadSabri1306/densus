import{_ as O,o as d,c as b,a as Y,u as z,b as g,r as S,d as W,e as q,f as P,g as e,h as a,w as M,i as k,t as U,j as s,n as y,T as Q,p as T,k as F,l as A,F as G,m as H,q as L,s as V,v as C,x as X,y as R,z as I,A as B,B as Z,C as ee,D as se,E as J,G as te,H as oe,I as ae}from"./index-97e29e8c.js";const ne={},ie={class:"footer"},le=Y('<div class="container-fluid"><div class="row justify-content-center"><div class="col-md-auto px-1"><p class="text-center">Copyright Â© 2022 <b>Innovation Team TR VII</b>.</p></div><div class="col-md-auto px-1"><p class="text-center">All rights reserved.</p></div></div></div>',1),re=[le];function de(_,v){return d(),b("footer",ie,re)}const K=O(ne,[["render",de]]),ce="/densus/assets/img/user1.png";const N=_=>(T("data-v-4c3c1f06"),_=_(),F(),_),ue={class:"sidebar-user text-center"},_e={class:"f-w-700 m-2 text-center tw-px-[15px]"},pe=N(()=>e("span",{class:"f-w-700 ms-2"},"Update Profil",-1)),ve=N(()=>e("span",{class:"f-w-700 ms-2"},"Ganti Password",-1)),he=N(()=>e("span",{class:"f-w-700 ms-2"},"Log Out",-1)),me=N(()=>e("img",{class:"img-90 rounded-circle mx-auto",src:ce,alt:""},null,-1)),fe=N(()=>e("div",{class:"badge-bottom"},[e("span",{class:"badge badge-primary"},"New")],-1)),be={class:"mt-3 mb-1 f-14 f-w-600 font-primary"},ge={class:"mb-0 font-roboto text-uppercase f-w-700"},we={class:"mb-0 font-roboto text-capitalize"},ye={__name:"DashboardSidebarUser",emits:["updateUser","updatePassword","logout"],setup(_,{emit:v}){const n=z(),c=g(()=>n.name),u=g(()=>n.location),w=g(()=>n.role),m=S(!1),p=()=>m.value=!1;W(()=>{document.body.addEventListener("click",p)}),q(()=>{document.body.removeEventListener("click",p)});const h=g(()=>n.userData),x=S(!1),f=()=>{x.value=!0,n.fetchUserData(!1,()=>{x.value=!1,v("updateUser",h.value)})};return(i,o)=>{const l=P("vue-feather"),t=P("VueFeather");return d(),b("div",ue,[e("a",{class:"setting-primary",role:"button",title:"setting",onClick:o[0]||(o[0]=M(r=>m.value=!m.value,["stop"]))},[a(l,{type:"settings"})]),(d(),k(Q,{to:"body"},[e("ul",{class:y([{show:m.value},"setting-wrapper"])},[e("li",null,[e("p",_e,U(s(c)),1)]),e("li",null,[e("a",{role:"button",title:"update profil",onClick:f},[x.value?(d(),k(t,{key:0,type:"loader",animation:"spin",size:"1.5em"})):(d(),k(t,{key:1,type:"user",size:"1.5em"})),pe])]),e("li",null,[e("a",{role:"button",title:"ganti password",onClick:o[1]||(o[1]=r=>i.$emit("updatePassword"))},[a(t,{type:"key",size:"1.5em"}),ve])]),e("li",null,[e("a",{role:"button",onClick:o[2]||(o[2]=M(r=>i.$emit("logout"),["stop"])),title:"log out"},[a(t,{type:"lock",size:"1.5em"}),he])])],2)])),me,fe,e("h6",be,U(s(c)),1),e("p",ge,U(s(u)),1),e("p",we,"role "+U(s(w)),1)])}}},ke=O(ye,[["__scopeId","data-v-4c3c1f06"]]);const E=_=>(T("data-v-3814efcd"),_=_(),F(),_),$e={class:"main-navbar"},xe=E(()=>e("div",{class:"left-arrow",id:"left-arrow"},[e("i",{"data-feather":"arrow-left"})],-1)),Se={id:"mainnav"},Pe={class:"nav-menu custom-scrollbar"},De=E(()=>e("li",{class:"back-btn"},[e("div",{class:"mobile-back text-end"},[e("span",null,"Back"),e("i",{class:"fa fa-angle-right ps-2","aria-hidden":"true"})])],-1)),Ue=E(()=>e("li",{class:"sidebar-main-title"},[e("div",null,[e("h6",null,"Saving Energy")])],-1)),Ve=["onClick"],Ce={class:"according-menu"},Le={key:2,class:"nav-submenu menu-content"},Ne=E(()=>e("div",{class:"right-arrow",id:"right-arrow"},[e("i",{"data-feather":"arrow-right"})],-1)),Oe={__name:"DashboardSidebarMenu",setup(_){const v=z(),n=g(()=>v.role),c=g(()=>v.level),u=g(()=>v.locationId),w=A(),m=g(()=>w.menuItems.map(i=>{if(c.value&&c.value!="nasional"&&u.value&&["pue","gepee_evidence"].indexOf(i.key)>=0){const o=JSON.parse(JSON.stringify(i));return o.to=i.to+"/"+c.value+"/"+u.value,o}return i})),p=g(()=>w.menuActKeys),h=S([]),x=()=>{for(let i=0;i<m.value.length;i++)m.value[i]&&p.value.length>0&&m.value[i].key==p.value[0]&&(h.value=[i])},f=i=>{h.value.indexOf(i)<0?h.value=[...h.value,i]:h.value=h.value.filter(t=>t!==i)};return x(),(i,o)=>{const l=P("vue-feather"),t=P("RouterLink");return d(),b("nav",null,[e("div",$e,[xe,e("div",Se,[e("ul",Pe,[De,Ue,(d(!0),b(G,null,H(s(m),(r,j)=>(d(),b("li",{class:y([{dropdown:r.child,expand:h.value.indexOf(j)>=0},"py-1"])},[!r.child&&r.roles.indexOf(s(n))>=0?(d(),k(t,{key:0,to:r.to,class:y([{active:r.key==s(p)[0],"on-development-menu":r.isDev},"nav-link"])},{default:L(()=>[a(l,{type:r.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,U(r.title),1)]),_:2},1032,["to","class"])):V("",!0),r.child&&r.roles.indexOf(s(n))>=0?(d(),b("a",{key:1,onClick:D=>f(j),class:y([{active:r.key===s(p)[0],"on-development-menu":r.isDev},"nav-link menu-title"]),role:"button"},[a(l,{type:r.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,U(r.title),1),e("div",Ce,[a(l,{type:"chevron-right"})])],10,Ve)):V("",!0),r.child&&r.roles.indexOf(s(n))>=0?(d(),b("ul",Le,[(d(!0),b(G,null,H(r.child,D=>(d(),b("li",null,[D.roles&&D.roles.indexOf(s(n))>=0||!D.roles&&r.roles.indexOf(s(n))>=0?(d(),k(t,{key:0,to:D.to,class:y({active:D.key===s(p)[1]})},{default:L(()=>[C(U(D.title),1)]),_:2},1032,["to","class"])):V("",!0)]))),256))])):V("",!0)],2))),256))])]),Ne])])}}},ze=O(Oe,[["__scopeId","data-v-3814efcd"]]),Ee=["onSubmit"],Re={class:"mb-4"},Ie=e("label",{for:"inputOldPass"},[C("Masukkan password lama "),e("span",{class:"text-danger"},"*")],-1),Be={class:"mb-4"},Me=e("label",{for:"inputNewPass1"},[C("Masukkan password baru "),e("span",{class:"text-danger"},"*")],-1),Te={class:"mb-5"},Fe=e("label",{for:"inputNewPass2"},[C("Masukkan ulang password baru "),e("span",{class:"text-danger"},"*")],-1),Ae={key:0,class:"mb-0 font-danger ms-4"},je={class:"d-flex justify-content-between align-items-end"},Ge={__name:"DialogUpdatePassword",emits:["close"],setup(_,{emit:v}){const n=S(!0),c=()=>{n.value=!1,v("close")},{data:u,v$:w}=X({oldPass:{required:R},newPass1:{required:R},newPass2:{required:R}}),m=S(!1),p=S(!1),h=g(()=>p.value?u.newPass1===u.newPass2:!0),x=z(),f=A(),i=async()=>{if(p.value=!0,!await w.value.$validate()||!h.value)return!1;const l={old_password:u.oldPass,new_password:u.newPass1};m.value=!0,x.updatePassword(l,t=>{m.value=!1,t.success&&(f.showToast("Update Password","Berhasil menyimpan password baru.",!0),n.value=!1)})};return(o,l)=>(d(),k(s(Z),{header:"Update Password",visible:n.value,"onUpdate:visible":l[4]||(l[4]=t=>n.value=t),modal:"",draggable:"",onAfterHide:c},{default:L(()=>[e("form",{onSubmit:M(i,["prevent"]),class:"p-4"},[e("div",Re,[Ie,I(e("input",{type:"password","onUpdate:modelValue":l[0]||(l[0]=t=>s(u).oldPass=t),id:"inputOldPass",class:y([{"is-invalid":p.value&&s(w).oldPass.$invalid},"form-control"]),autofocus:""},null,2),[[B,s(u).oldPass]])]),e("div",Be,[Me,I(e("input",{type:"password","onUpdate:modelValue":l[1]||(l[1]=t=>s(u).newPass1=t),id:"inputNewPass1",class:y([{"is-invalid":p.value&&s(w).newPass1.$invalid},"form-control"])},null,2),[[B,s(u).newPass1]])]),e("div",Te,[Fe,I(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=t=>s(u).newPass2=t),id:"inputNewPass2",class:y([{"is-invalid":p.value&&s(w).newPass2.$invalid},"form-control"])},null,2),[[B,s(u).newPass2]]),s(h)?V("",!0):(d(),b("p",Ae,"Password baru tidak cocok"))]),e("div",je,[e("button",{type:"submit",class:y([{"btn-loading":m.value},"btn btn-success btn-lg"])},"Update Password",2),e("button",{type:"button",onClick:l[3]||(l[3]=t=>n.value=!1),class:"btn btn-secondary"},"Batalkan")])],40,Ee)]),_:1},8,["visible"]))}};const $=_=>(T("data-v-90d452fe"),_=_(),F(),_),He={class:"page-wrapper compact-wrapper viho-theme",id:"pageWrapper"},We={class:"main-header-right row m-0"},qe={class:"main-header-left"},Je={class:"logo-wrapper"},Ke=$(()=>e("img",{src:J,class:"img-fluid brand-logo",alt:""},null,-1)),Ye={class:"dark-logo-wrapper"},Qe=$(()=>e("img",{src:J,class:"img-fluid brand-logo",alt:""},null,-1)),Xe={class:"left-menu-header col"},Ze={class:"form-inline search-form"},es={class:"search-bg"},ss=$(()=>e("input",{class:"form-control-plaintext",placeholder:"Search here....."},null,-1)),ts={class:"d-sm-none mobile-search search-bg"},os={class:"nav-right col pull-right right-menu p-0"},as={class:"nav-menus"},ns={class:"text-dark",href:"#!",onclick:"javascript:toggleFullScreen()"},is={class:"onhover-dropdown"},ls={class:"notification-box"},rs=$(()=>e("span",{class:"dot-animated"},null,-1)),ds={class:"notification-dropdown onhover-show-div"},cs=$(()=>e("li",null,[e("p",{class:"f-w-700 mb-0"},[C("You have 3 Notifications"),e("span",{class:"pull-right badge badge-primary badge-pill"},"4")])],-1)),us={class:"noti-primary"},_s={class:"media"},ps={class:"notification-bg bg-light-primary"},vs=$(()=>e("div",{class:"media-body"},[e("p",null,"Delivery processing "),e("span",null,"10 minutes ago")],-1)),hs={class:"noti-secondary"},ms={class:"media"},fs={class:"notification-bg bg-light-secondary"},bs=$(()=>e("div",{class:"media-body"},[e("p",null,"Order Complete"),e("span",null,"1 hour ago")],-1)),gs={class:"noti-success"},ws={class:"media"},ys={class:"notification-bg bg-light-success"},ks=$(()=>e("div",{class:"media-body"},[e("p",null,"Tickets Generated"),e("span",null,"3 hour ago")],-1)),$s={class:"noti-danger"},xs={class:"media"},Ss={class:"notification-bg bg-light-danger"},Ps=$(()=>e("div",{class:"media-body"},[e("p",null,"Delivery Complete"),e("span",null,"6 hour ago")],-1)),Ds={class:"onhover-dropdown p-0"},Us={class:"d-lg-none mobile-toggle pull-right w-auto"},Vs={class:"page-body-wrapper"},Cs={class:"page-body"},Ls={__name:"Dashboard",setup(_){const v=A(),n=g(()=>v.hideSidebar),c=ee();c.beforeEach(()=>{v.resetSidebarVisibility()});const u=()=>v.resetSidebarVisibility();W(()=>window.addEventListener("resize",u)),q(()=>window.addEventListener("resize",u)),v.resetSidebarVisibility();const w=z(),m=()=>{confirm("Anda akan keluar dari DENSUS. Lanjutkan?")&&(w.logout(),c.push("/login"))},p=S(!1),h=S(null);return(x,f)=>{const i=P("RouterLink"),o=P("vue-feather"),l=P("RouterView");return d(),b("div",He,[e("div",{class:y([{close_icon:s(n)},"page-main-header"])},[e("div",We,[e("div",qe,[e("div",Je,[a(i,{to:"/",title:"Dashboard"},{default:L(()=>[Ke]),_:1})]),e("div",Ye,[a(i,{to:"/",title:"Dashboard"},{default:L(()=>[Qe]),_:1})]),e("div",{onClick:f[0]||(f[0]=t=>s(v).toggleSidebarVisibility()),class:"toggle-sidebar",tabindex:"0",role:"button","aria-pressed":"false",title:"Toggle Sidebar"},[a(o,{type:"align-center",class:"status_toggle middle"})])]),e("div",Xe,[e("ul",null,[e("li",null,[e("form",Ze,[e("div",es,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}}),ss])]),e("span",ts,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}})])])])]),e("div",os,[e("ul",as,[e("li",null,[e("a",ns,[a(o,{type:"maximize"})])]),e("li",is,[e("div",ls,[a(o,{type:"bell"}),rs]),e("ul",ds,[cs,e("li",us,[e("div",_s,[e("span",ps,[a(o,{type:"activity"})]),vs])]),e("li",hs,[e("div",ms,[e("span",fs,[a(o,{type:"check-circle"})]),bs])]),e("li",gs,[e("div",ws,[e("span",ys,[a(o,{type:"file-text"})]),ks])]),e("li",$s,[e("div",xs,[e("span",Ss,[a(o,{type:"user-check"})]),Ps])])])]),e("li",Ds,[e("button",{onClick:m,class:"btn btn-primary-light btn-icon"},[a(o,{type:"log-out"}),C("Log out")])])])]),e("div",Us,[a(o,{type:"more-horizontal"})])])],2),e("div",Vs,[e("header",{class:y([{close_icon:!s(n)},"main-nav"])},[a(ke,{onUpdateUser:f[1]||(f[1]=t=>h.value=t),onUpdatePassword:f[2]||(f[2]=t=>p.value=!0),onLogout:m}),a(ze)],2),e("main",Cs,[a(l)]),a(K)]),p.value?(d(),k(Ge,{key:0,onClose:f[3]||(f[3]=t=>p.value=!1)})):V("",!0),h.value?(d(),k(se,{key:1,isCurrUser:"",data:h.value,onDie:f[4]||(f[4]=t=>h.value=null)},null,8,["data"])):V("",!0)])}}},Ns=O(Ls,[["__scopeId","data-v-90d452fe"]]),Os={class:"viho-theme"},zs={__name:"SinglePage",setup(_){return(v,n)=>{const c=P("RouterView");return d(),b("div",Os,[a(c),a(K)])}}},Rs={__name:"index",setup(_){const v=te(),n=g(()=>{const c=v.name;return["login","e404"].indexOf(c)<0?Ns:zs});return oe(()=>{const c=document.getElementById("loader");c&&(c.classList.add("hide"),setTimeout(function(){c.remove()},700))}),(c,u)=>(d(),k(ae(s(n))))}};export{Rs as default};
