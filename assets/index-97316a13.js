import{_ as N,o as c,c as b,a as q,u as O,b as $,r as S,d as G,e as J,f as P,g as e,h as a,w as B,i as k,t as D,n as y,T as K,p as M,j as T,k as F,F as A,l as j,m as V,q as U,s as C,v as Y,x as E,y as z,z as w,A as R,B as Q,C as X,D as Z,E as H,G as ee,H as se,I as te}from"./index-c8d61612.js";const oe={},ae={class:"footer"},ne=q('<div class="container-fluid"><div class="row justify-content-center"><div class="col-md-auto px-1"><p class="text-center">Copyright Â© 2022 <b>Innovation Team TR VII</b>.</p></div><div class="col-md-auto px-1"><p class="text-center">All rights reserved.</p></div></div></div>',1),le=[ne];function ie(p,v){return c(),b("footer",ae,le)}const W=N(oe,[["render",ie]]),re="/assets/img/user1.png";const L=p=>(M("data-v-4c3c1f06"),p=p(),T(),p),ce={class:"sidebar-user text-center"},de={class:"f-w-700 m-2 text-center tw-px-[15px]"},ue=L(()=>e("span",{class:"f-w-700 ms-2"},"Update Profil",-1)),_e=L(()=>e("span",{class:"f-w-700 ms-2"},"Ganti Password",-1)),pe=L(()=>e("span",{class:"f-w-700 ms-2"},"Log Out",-1)),ve=L(()=>e("img",{class:"img-90 rounded-circle mx-auto",src:re,alt:""},null,-1)),he=L(()=>e("div",{class:"badge-bottom"},[e("span",{class:"badge badge-primary"},"New")],-1)),me={class:"mt-3 mb-1 f-14 f-w-600 font-primary"},fe={class:"mb-0 font-roboto text-uppercase f-w-700"},be={class:"mb-0 font-roboto text-capitalize"},ge={__name:"DashboardSidebarUser",emits:["updateUser","updatePassword","logout"],setup(p,{emit:v}){const n=O(),d=$(()=>n.name),i=$(()=>n.location),m=$(()=>n.role),_=S(!1),f=()=>_.value=!1;G(()=>{document.body.addEventListener("click",f)}),J(()=>{document.body.removeEventListener("click",f)});const g=$(()=>n.userData),l=S(!1),u=()=>{l.value=!0,n.fetchUserData(!1,()=>{l.value=!1,v("updateUser",g.value)})};return(r,o)=>{const s=P("vue-feather"),t=P("VueFeather");return c(),b("div",ce,[e("a",{class:"setting-primary",role:"button",title:"setting",onClick:o[0]||(o[0]=B(h=>_.value=!_.value,["stop"]))},[a(s,{type:"settings"})]),(c(),k(K,{to:"body"},[e("ul",{class:y([{show:_.value},"setting-wrapper"])},[e("li",null,[e("p",de,D(d.value),1)]),e("li",null,[e("a",{role:"button",title:"update profil",onClick:u},[l.value?(c(),k(t,{key:0,type:"loader",animation:"spin",size:"1.5em"})):(c(),k(t,{key:1,type:"user",size:"1.5em"})),ue])]),e("li",null,[e("a",{role:"button",title:"ganti password",onClick:o[1]||(o[1]=h=>r.$emit("updatePassword"))},[a(t,{type:"key",size:"1.5em"}),_e])]),e("li",null,[e("a",{role:"button",onClick:o[2]||(o[2]=B(h=>r.$emit("logout"),["stop"])),title:"log out"},[a(t,{type:"lock",size:"1.5em"}),pe])])],2)])),ve,he,e("h6",me,D(d.value),1),e("p",fe,D(i.value),1),e("p",be,"role "+D(m.value),1)])}}},we=N(ge,[["__scopeId","data-v-4c3c1f06"]]);const I=p=>(M("data-v-f5accdcb"),p=p(),T(),p),ye={class:"main-navbar"},$e=I(()=>e("div",{class:"left-arrow",id:"left-arrow"},[e("i",{"data-feather":"arrow-left"})],-1)),ke={id:"mainnav"},xe={class:"nav-menu custom-scrollbar"},Se=I(()=>e("li",{class:"back-btn"},[e("div",{class:"mobile-back text-end"},[e("span",null,"Back"),e("i",{class:"fa fa-angle-right ps-2","aria-hidden":"true"})])],-1)),Pe=I(()=>e("li",{class:"sidebar-main-title"},[e("div",null,[e("h6",null,"Saving Energy")])],-1)),De=["onClick"],Ue={class:"according-menu"},Ce={key:2,class:"nav-submenu menu-content"},Ve=I(()=>e("div",{class:"right-arrow",id:"right-arrow"},[e("i",{"data-feather":"arrow-right"})],-1)),Le={__name:"DashboardSidebarMenu",setup(p){const v=O(),n=$(()=>v.role),d=F(),i=$(()=>{const l=v.level,u=v.locationId;return!l||l=="nasional"||!u?d.menuItems:d.menuItems.map(r=>{const o=r.key=="gepee_evidence";if(r.key=="pue"){const t=r.child.findIndex(h=>h.key=="online");if(t>=0){const h=JSON.parse(JSON.stringify(r));return h.child[t].to=`${r.child[t].to}/${l}/${u}`,h}}if(o){const t=JSON.parse(JSON.stringify(r));return t.to=`${r.to}/${l}/${u}`,t}return r})}),m=$(()=>d.menuActKeys),_=S([]),f=()=>{for(let l=0;l<i.value.length;l++)i.value[l]&&m.value.length>0&&i.value[l].key==m.value[0]&&(_.value=[l])},g=l=>{_.value.indexOf(l)<0?_.value=[..._.value,l]:_.value=_.value.filter(o=>o!==l)};return f(),(l,u)=>{const r=P("vue-feather"),o=P("RouterLink");return c(),b("nav",null,[e("div",ye,[$e,e("div",ke,[e("ul",xe,[Se,Pe,(c(!0),b(A,null,j(i.value,(s,t)=>(c(),b("li",{class:y([{dropdown:s.child,expand:_.value.indexOf(t)>=0},"py-1"])},[!s.child&&s.roles.indexOf(n.value)>=0?(c(),k(o,{key:0,to:s.to,class:y([{active:s.key==m.value[0],"on-development-menu":s.isDev},"nav-link"])},{default:V(()=>[a(r,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1)]),_:2},1032,["to","class"])):U("",!0),s.child&&s.roles.indexOf(n.value)>=0?(c(),b("a",{key:1,onClick:h=>g(t),class:y([{active:s.key===m.value[0],"on-development-menu":s.isDev},"nav-link menu-title"]),role:"button"},[a(r,{type:s.icon,size:"1.2rem",class:"me-2"},null,8,["type"]),e("span",null,D(s.title),1),e("div",Ue,[a(r,{type:"chevron-right"})])],10,De)):U("",!0),s.child&&s.roles.indexOf(n.value)>=0?(c(),b("ul",Ce,[(c(!0),b(A,null,j(s.child,h=>(c(),b("li",null,[h.roles&&h.roles.indexOf(n.value)>=0||!h.roles&&s.roles.indexOf(n.value)>=0?(c(),k(o,{key:0,to:h.to,class:y({active:h.key===m.value[1]})},{default:V(()=>[C(D(h.title),1)]),_:2},1032,["to","class"])):U("",!0)]))),256))])):U("",!0)],2))),256))])]),Ve])])}}},Ne=N(Le,[["__scopeId","data-v-f5accdcb"]]),Oe=["onSubmit"],Ie={class:"mb-4"},Ee=e("label",{for:"inputOldPass"},[C("Masukkan password lama "),e("span",{class:"text-danger"},"*")],-1),ze={class:"mb-4"},Re=e("label",{for:"inputNewPass1"},[C("Masukkan password baru "),e("span",{class:"text-danger"},"*")],-1),Be={class:"mb-5"},Me=e("label",{for:"inputNewPass2"},[C("Masukkan ulang password baru "),e("span",{class:"text-danger"},"*")],-1),Te={key:0,class:"mb-0 font-danger ms-4"},Fe={class:"d-flex justify-content-between align-items-end"},Ae={__name:"DialogUpdatePassword",emits:["close"],setup(p,{emit:v}){const n=S(!0),d=()=>{n.value=!1,v("close")},{data:i,v$:m}=Y({oldPass:{required:E},newPass1:{required:E},newPass2:{required:E}}),_=S(!1),f=S(!1),g=$(()=>f.value?i.newPass1===i.newPass2:!0),l=O(),u=F(),r=async()=>{if(f.value=!0,!await m.value.$validate()||!g.value)return!1;const s={old_password:i.oldPass,new_password:i.newPass1};_.value=!0,l.updatePassword(s,t=>{_.value=!1,t.success&&(u.showToast("Update Password","Berhasil menyimpan password baru.",!0),n.value=!1)})};return(o,s)=>(c(),k(w(Q),{header:"Update Password",visible:n.value,"onUpdate:visible":s[4]||(s[4]=t=>n.value=t),modal:"",draggable:"",onAfterHide:d},{default:V(()=>[e("form",{onSubmit:B(r,["prevent"]),class:"p-4"},[e("div",Ie,[Ee,z(e("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=t=>w(i).oldPass=t),id:"inputOldPass",class:y([{"is-invalid":f.value&&w(m).oldPass.$invalid},"form-control"]),autofocus:""},null,2),[[R,w(i).oldPass]])]),e("div",ze,[Re,z(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>w(i).newPass1=t),id:"inputNewPass1",class:y([{"is-invalid":f.value&&w(m).newPass1.$invalid},"form-control"])},null,2),[[R,w(i).newPass1]])]),e("div",Be,[Me,z(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>w(i).newPass2=t),id:"inputNewPass2",class:y([{"is-invalid":f.value&&w(m).newPass2.$invalid},"form-control"])},null,2),[[R,w(i).newPass2]]),g.value?U("",!0):(c(),b("p",Te,"Password baru tidak cocok"))]),e("div",Fe,[e("button",{type:"submit",class:y([{"btn-loading":_.value},"btn btn-success btn-lg"])},"Update Password",2),e("button",{type:"button",onClick:s[3]||(s[3]=t=>n.value=!1),class:"btn btn-secondary"},"Batalkan")])],40,Oe)]),_:1},8,["visible"]))}};const x=p=>(M("data-v-a17a54f7"),p=p(),T(),p),je={class:"page-wrapper compact-wrapper viho-theme",id:"pageWrapper"},Ge={class:"main-header-right row m-0"},Je={class:"main-header-left"},He={class:"logo-wrapper"},We=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),qe={class:"dark-logo-wrapper"},Ke=x(()=>e("img",{src:H,class:"img-fluid brand-logo",alt:""},null,-1)),Ye={class:"left-menu-header col"},Qe={class:"form-inline search-form"},Xe={class:"search-bg"},Ze=x(()=>e("input",{class:"form-control-plaintext",placeholder:"Search here....."},null,-1)),es={class:"d-sm-none mobile-search search-bg"},ss={class:"nav-right col pull-right right-menu p-0"},ts={class:"nav-menus"},os={class:"text-dark",href:"#!",onclick:"javascript:toggleFullScreen()"},as={class:"onhover-dropdown"},ns={class:"notification-box"},ls=x(()=>e("span",{class:"dot-animated"},null,-1)),is={class:"notification-dropdown onhover-show-div"},rs=x(()=>e("li",null,[e("p",{class:"f-w-700 mb-0"},[C("You have 3 Notifications"),e("span",{class:"pull-right badge badge-primary badge-pill"},"4")])],-1)),cs={class:"noti-primary"},ds={class:"media"},us={class:"notification-bg bg-light-primary"},_s=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery processing "),e("span",null,"10 minutes ago")],-1)),ps={class:"noti-secondary"},vs={class:"media"},hs={class:"notification-bg bg-light-secondary"},ms=x(()=>e("div",{class:"media-body"},[e("p",null,"Order Complete"),e("span",null,"1 hour ago")],-1)),fs={class:"noti-success"},bs={class:"media"},gs={class:"notification-bg bg-light-success"},ws=x(()=>e("div",{class:"media-body"},[e("p",null,"Tickets Generated"),e("span",null,"3 hour ago")],-1)),ys={class:"noti-danger"},$s={class:"media"},ks={class:"notification-bg bg-light-danger"},xs=x(()=>e("div",{class:"media-body"},[e("p",null,"Delivery Complete"),e("span",null,"6 hour ago")],-1)),Ss={class:"onhover-dropdown p-0"},Ps={class:"d-lg-none mobile-toggle pull-right w-auto"},Ds={class:"page-body-wrapper"},Us={class:"page-body"},Cs={__name:"Dashboard",setup(p){const v=F(),n=$(()=>v.hideSidebar),d=X();d.beforeEach(()=>{v.resetSidebarVisibility()});const i=()=>v.resetSidebarVisibility();G(()=>window.addEventListener("resize",i)),J(()=>window.addEventListener("resize",i)),v.resetSidebarVisibility();const m=O(),_=()=>{confirm("Anda akan keluar dari DENSUS. Lanjutkan?")&&(m.logout(),d.push("/login"))},f=S(!1),g=S(null);return(l,u)=>{const r=P("RouterLink"),o=P("vue-feather"),s=P("RouterView");return c(),b("div",je,[e("div",{class:y([{close_icon:n.value},"page-main-header"])},[e("div",Ge,[e("div",Je,[e("div",He,[a(r,{to:"/",title:"Dashboard"},{default:V(()=>[We]),_:1})]),e("div",qe,[a(r,{to:"/",title:"Dashboard"},{default:V(()=>[Ke]),_:1})]),e("div",{onClick:u[0]||(u[0]=t=>w(v).toggleSidebarVisibility()),class:"toggle-sidebar",tabindex:"0",role:"button","aria-pressed":"false",title:"Toggle Sidebar"},[a(o,{type:"align-center",class:"status_toggle middle"})])]),e("div",Ye,[e("ul",null,[e("li",null,[e("form",Qe,[e("div",Xe,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}}),Ze])]),e("span",es,[a(o,{type:"search",strokeWidth:"3.8",style:{width:"0.9rem"}})])])])]),e("div",ss,[e("ul",ts,[e("li",null,[e("a",os,[a(o,{type:"maximize"})])]),e("li",as,[e("div",ns,[a(o,{type:"bell"}),ls]),e("ul",is,[rs,e("li",cs,[e("div",ds,[e("span",us,[a(o,{type:"activity"})]),_s])]),e("li",ps,[e("div",vs,[e("span",hs,[a(o,{type:"check-circle"})]),ms])]),e("li",fs,[e("div",bs,[e("span",gs,[a(o,{type:"file-text"})]),ws])]),e("li",ys,[e("div",$s,[e("span",ks,[a(o,{type:"user-check"})]),xs])])])]),e("li",Ss,[e("button",{onClick:_,class:"btn btn-primary-light btn-icon"},[a(o,{type:"log-out"}),C("Log out")])])])]),e("div",Ps,[a(o,{type:"more-horizontal"})])])],2),e("div",Ds,[e("header",{class:y([{close_icon:!n.value},"main-nav"])},[a(we,{onUpdateUser:u[1]||(u[1]=t=>g.value=t),onUpdatePassword:u[2]||(u[2]=t=>f.value=!0),onLogout:_}),a(Ne)],2),e("main",Us,[a(s)]),a(W)]),f.value?(c(),k(Ae,{key:0,onClose:u[3]||(u[3]=t=>f.value=!1)})):U("",!0),g.value?(c(),k(Z,{key:1,isCurrUser:"",data:g.value,onDie:u[4]||(u[4]=t=>g.value=null)},null,8,["data"])):U("",!0)])}}},Vs=N(Cs,[["__scopeId","data-v-a17a54f7"]]),Ls={class:"viho-theme"},Ns={__name:"SinglePage",setup(p){return(v,n)=>{const d=P("RouterView");return c(),b("div",Ls,[a(d),a(W)])}}},Is={__name:"index",setup(p){const v=ee(),n=$(()=>{const d=v.name;return["login","e404"].indexOf(d)<0?Vs:Ns});return se(()=>{const d=document.getElementById("loader");d&&(d.classList.add("hide"),setTimeout(function(){d.remove()},700))}),(d,i)=>(c(),k(te(n.value)))}};export{Is as default};
